<style>
    .div-pagination {
        position: relative;
        height: 38px;
        width: 280px;
        margin-left: 250px;

    }

    .button-pagination {
        border: none;
        border-radius: 5px;
        width: 38px;
        height: 38px;
        background-color: #222;
        position: relative;
        color: #ff0;
        transition: all .2s ease-in-out;
        z-index: 1;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-flow: row wrap;
        flex-flow: row wrap;
        -ms-flex-pack: center;
        justify-content: center;
        -ms-flex-align: center;
        align-items: center;
        -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
        -webkit-tap-highlight-color: transparent;
        margin-left: 3px;
        margin-right: 3px;
        text-shadow: 0 0 5px black;
        box-shadow: 0 0 5px black;
    }

    .button-pagination-active {
        border: none;
        position: relative;
        display: flex;
        border-radius: 5px;
        transition: all .2s ease-in-out;
        width: 38px;
        height: 38px;
        z-index: 1;
        color: #000;
        -ms-flex-pack: center;
        justify-content: center;
        -ms-flex-align: center;
        align-items: center;
        background-color: #ffff00;
        box-shadow: 0 0 5px #ffff00;
        margin-left: 3px;
        margin-right: 3px;
        outline: none;
    }

    .button-pagination-active, .button-pagination:focus {
        outline: none;
    }

    .pagination__link {
        text-decoration: none;
        color: #ff0;
        margin-left: 3px;
        margin-right: 3px;
        text-shadow: 0 0 5px #ff0;

    }

    .button-pagination:hover {
        color: #000;
        background-color: #ddd;
        border-radius: 5px;
        text-shadow: none;
        box-shadow: 0 0 5px #fff;

    }

    .text_pagination {
        position: relative;
        color: #000;

    }

    @media only screen and (max-width: 767px) {
        .pagination__item {
            margin: 0 2px;
            width: 33px;
            height: 33px;
        }
    }
</style>

<div class="div-pagination">
    <ul class="pagination">
        {% if page_obj.has_previous %}
        {% if page_obj.number|add:'-1' > 1 %}
        <li class="pagination__item">
            <a style="text-decoration: none;" href="?page=1">
                <button class="button-pagination">1</button>
            </a>
        </li>
        {% endif %}
        {% if page_obj.number|add:'-3' >= 1 %}
        <li class="pagination__item pagination__item--dots">

            <span class="pagination__link">. . .</span>

        </li>
        {% endif %}
        {% endif %}

        {% if page_obj.paginator.page_range|length > 1 %}
        {% for i in page_obj.paginator.page_range %}
        {% if page_obj.number == i %}
        <li class="pagination_item_man active">
            <a class="pagination__link">
                <button disabled  class="button-pagination-active"><span class="text_pagination">{{ i }}</span></button>
            </a>
        </li>
        {% elif i > page_obj.number|add:'-2' and i < page_obj.number|add:'2' %}
        <li class="pagination__item">
            <a class="pagination__link" href="?page={{ i }}">
                <button class="button-pagination">{{ i }}</button>
            </a>
        </li>
        {% endif %}
        {% endfor %}
        {% endif %}

        {% if page_obj.has_next %}
        {% if page_obj.number|add:'2' < page_obj.paginator.num_pages %}
        <li class="pagination__item pagination__item--dots">

            <span class="pagination__link">. . .</span>

        </li>
        {% endif %}
        {% if page_obj.number|add:'1' < page_obj.paginator.num_pages %}
        <li class="pagination__item">
            <a class="pagination__link" href="?page={{ page_obj.paginator.num_pages }}">
                <button class="button-pagination">{{ page_obj.paginator.num_pages }}</button>
            </a>
        </li>
        {% endif %}
        {% endif %}
    </ul>
</div>


